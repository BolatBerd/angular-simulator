@if (isLoading) {
  <div class="loading-overlay flex-s-b">
    <img class="rotate" src="/images/loading-icon.svg" alt="loading">
    <span class="spinner">Иконка загрузки, которую мы должны отобразить. Добавить анимацию прокрутки</span>
  </div>
} @else {
  <header class="header">
    <div class="container">
      <div class="header-menu flex-s-b" >
        <div class="header-menu-logo flex-column">
          <img src="/images/logo.svg" alt="logo" width="137px" height="48px"/>
          <span class="logo-name">{{ companyName }}</span>
        </div>
        <div class="flex-center">
          <ul class="nav flex-s-b font-18">
            <a href="">Главная</a>
            <a href="">Про гида</a>
            <a href="">Программа тура</a>
            <a href="">Стоимость</a>
            <a href="">Блог</a>
            <a href="">Контакты</a>
          </ul>
          <button
            class="consultation font-16 bor-r-8"
            aria-label="Заказать консультацию">Консультация
          </button>
        </div>
      </div>
      <div class="content flex-s-b">
        @if (isDateView) {
          <span class="timer">
            {{ currentDateAndTime }}
          </span>
        } @else {
          <div class="clicker flex-s-b">
            <button class="switcher cur-p" (click)="decrementCount()" [disabled]="count <= 0">-</button>
            <span>{{ count }}</span>
            <button class="switcher cur-p" (click)="incrementCount()">+</button>
          </div>
        }
        <button class="consultation font-16 bor-r-8"
          (click)="toggleBlock()">{{ isDateView ? 'Показать кликер' : 'Показать дату' }}
        </button>
      </div>
      <div class="header-text">
        <span>насладись прогулкой в горах</span>
        <span>с командой единомышленников</span>
      </div>
      <div class="menu bor-r-8">
        <div class="menu-item flex-s-b gap-24">
          <div class="menu-field">
            <div class="flex-s-b menu-title bor-r-8 font-16 pos-rel"
              (click)="openList(locationImput)"
            >
              <select
                class="select select-location-person"
                #locationImput
                [(ngModel)]="form.location"
              >
                <option value="" disabled selected>Локация для тура</option>
                <option value="altai">Алтай</option>
                <option value="caucasus">Кавказ</option>
                <option value="baikal">Байкал</option>
              </select>
              <img
                class="pad-r-16"
                src="/images/arrow-left-icon.svg"
                alt="arrow-left"
              >
            </div>
            <span class="menu-subtitle font-14">выберите из списка</span>
          </div>
          <div class="menu-field">
            <div class="
            flex-s-b
            menu-title pos-rel
            bor-r-8 font-16"
            (click)="openDatePicker(dateInput)"
            >
              <input
                #dateInput
                class="select pos-rel"
                type="date"
                [(ngModel)]="form.date"
                placeholder="Дата похода"
              />
              <label class="date-label cur-p pos-abs">
                <img
                  class="date-icon pad-r-16 cur-p"
                  src="/images/formkit_date.svg"
                  alt='calendar'
                />
              </label>
            </div>
            <span class="menu-subtitle font-14">укажите диапазон</span>
          </div>
          <div class="menu-field">
            <div
              class="flex-s-b menu-title bor-r-8 font-16"
              (click)="openList(personImput)"
            >
              <select
                class="select select-location-person"
                #personImput
                [(ngModel)]="form.persons"
              >
                <option value="" disabled selected>выберите из списка</option>
                <option value="1">1 человек</option>
                <option value="2">2 человека</option>
                <option value="3">3 человека</option>
                <option value="4+">4+ человека</option>
              </select>
              <img class="pad-r-16" src="/images/arrow-left-icon.svg" alt="arrow-left">
            </div>
            <span class="menu-subtitle font-14">выберите из списка</span>
          </div>
          <button
            [disabled]="!isFormValid"
            class="button size-270-52 border font-16 align-items bor-r-8"
          >{{ isFormValid ? 'Найти программу' : 'Заполните все поля' }}
          </button>
        </div>
      </div>
      <div class="flex-s-b">
        <input
          type="text"
          placeholder="Введите текст..."
          [(ngModel)]="text"
        >
        <span class="result">{{text}}</span>
      </div>
      <div class="about flex-s-b">
        <div class="about-images pos-rel">
          <img class="index-0" src="/images/mountains.png" alt="Горы" width="350" height="400">
          <div>
            <img
              class="index-1 pos-abs images-house"
              src="/images/house-in-mountains.png"
              alt="Горы"
              width="350px"
              height="400px"
            >
            <button>
              <img
                class="index-2 pos-abs svg-play"
                src="/images/play-icon.svg"
                alt="play-icon"
              >
            </button>
          </div>
        </div>
        <div class="about-text">
          <h2 class="section-label color-yellow font-24">о нашем походе</h2>
          <h1 class="section-title color-black font-32">Исследуйте все горные массивы мира вместе с нами</h1>
          <p class="section-text color-black font-18 lh-150">{{history}}</p>
          <button
            class="bt-consultation font-16 bor-r-8"
            aria-label="Заказать консультацию"
            >Программа тура
          </button>
        </div>
      </div>
      <section class="offer-section">
        <div class="container">
          <div class="container-second-block flex-s-b">
            <div class="container-offer">
              <h2 class="subtitle color-yellow font-24">наше предложение</h2>
              <h1 class="subtitle-title color-black font-32">Лучшие программы для тебя</h1>
              <p class="desc color-black font-18 margin-top-30 lh-150">{{historySecondBlock}}</p>
              <div class="features mrg-t-40">
                @for (service of services; track service.id){
                  <div class="feature-item  margin-top-20">
                    <img [src]="service.icon" class="icons" />
                    <div class="feature-text">
                      <h3>{{service.title}}</h3>
                      <p>{{service.description}}</p>
                    </div>
                  </div>
                }
              </div>
              <button
                class="bt-consultation font-16 bor-r-8  mrg-t-40"
                aria-label="Заказать консультацию"
                >Стоимость программ
              </button>
            </div>
            <div class="images-grid">
              @for (image of tourImages; track image.id) {
                <img
                  [src]="image.src"
                  class="image"
                  [class.radius-top-left]="image.id === 1 || image.id === 4"
                  [class.radius-top-right]="image.id === 2 || image.id === 3"
                  [alt]=""
                />
              }
            </div>
          </div>
        </div>
      </section>
    </div>
  </header>
}
